# main.py
# 导入我们刚才保存的那个 azure_tts 文件里的功能
from azure_tts import get_voice


def run():
    # ═════════════════════════════════════════════════════════════
    # 1️⃣  输入你想转换成语音的文字内容
    # ═════════════════════════════════════════════════════════════
    text = """
    为何一党制的中国支持缅甸大选
    纽约时报 于 2025年12月26日

    五年前，美国在缅甸大选中发挥了关键作用。华盛顿通过选民教育项目提供援助，
    以加强全球民主、对抗中国在该地区影响力的名义，支持公民社会。
    这是缅甸少数几次真正存在竞争的大选之一。自1948年脱离英国独立以来，该国
    大部分时间由军方统治。选民为文职领袖昂山素季带来了决定性胜利，但几个月后，
    将军们再次夺权，美国随之降低了与该国的外交关系。

    如今，缅甸又进入了选举季，选民从周日起开始投票。此次选举不会包括许多反对
    军政府的政客，且仅在军方控制的地区举行，已被联合国称为一场闹剧。但它有
    一个令人意外的支持者——一党制国家中国。

    对北京而言，缅甸是通往印度洋的关键环节。中国已向这个毗邻的小国承诺数十亿
    美元资金，用于基础设施项目，包括高速公路和一个深水港。但2021年的政变以
    及随之而来的内战严重威胁了这些计划，给缅甸带来了巨大破坏。

    去年，中国外交部长王毅发表了一份引人注目的声明，呼吁缅甸停止战斗，实现国
    内和平，并"根据人民意愿治理国家"。中国承诺提供技术援助和资金，帮助军政
    府编制选民名单。一党制国家推动选举的讽刺意味并没有逃过观察者的眼睛。

    北京视此次选举为在缅甸建立一个半合法政府的最佳途径，这样一来，一些国家或
    许会硬着头皮与之谈判。中国和白俄罗斯、俄罗斯等少数几个国家将派遣选举观察员。

    "想到中国人试图领导一个选举观察团，有点像个笑话，"华盛顿史汀生中心中国项目
    主任孙韵说。"但这恰恰证明了中国努力为这场选举装点门面，让它看起来尽可能
    漂亮和合法。"

    北京向交战的军政府和叛军双方提供武器，以平衡自身利益。它还利用对某些武装
    团体的影响力，迫使他们将领土交还军方。现在，中国希望选举能带来某种表面的
    稳定，从而重启陷入停滞的深水港以及缅甸海岸的油气管道项目。这些项目旨在
    减少中国对马六甲海峡的依赖，北京担心美国有朝一日可能会封锁该海峡。

    缅甸人民党主席哥哥基表示，中国官员去年在北京告诉他，"缅甸的和平与稳定直接
    影响中国的利益。"他的政党是近年来众多受邀前往中国的缅甸政党之一，这些"
    考察游"的费用全部由中国承担。

    哥哥基曾是缅甸最著名的民主派活动人士之一，他说，尽管中国显然在追求自身利益，
    但它"近在咫尺、影响力大且愿意接触，而美国则保持观望态度"。

    "华盛顿谈的是价值观，但北京带来的是影响力，"他说。"这就是缅甸不断向中国倾
    斜的原因，因为美国提供的只是空谈，而不是承诺。"

    但投票仅在军政府控制的地区举行，范围不到全国一半国土。有些叛乱团体以及主张
    民主的影子政府"民族团结政府"已呼吁抵制此次选举。

    "仅仅通过举行选举——正如中国似乎所期待的那样——就让缅甸实现稳定或出现任
    何有意义的政治空间，是绝对不可能的，"民族团结政府发言人奈蓬拉特表示。"即
    使通过这种选举产生一个所谓的文官政府，掌权的也还是同一批军事政变领导人，
    只是换上了便装而已。"

    预计将赢得选举的亲军方政党——联邦巩固与发展党——自2021年以来已五次前往
    中国，与共产党官员会晤。

    "他们解释了如何系统地建立一党制，从而能够在没有对手的情况下治理国家，"该
    党总干事吴当瑞说。"他们还讨论了如何在选举中实现预期结果，以及如何管理进
    程以确保有利结局。"

    "他们分享了在集中控制下民主制度仍能运作的思路。"

    虽然缅甸军方仍将掌控权力杠杆，但此次选举可能导致名义上的文官政府回归，或
    动摇军方权贵阶层。军政府首脑敏昂莱大将在选举后的角色尚不确定。

    "即使组成下届政府的仍是当前军政府中的同一批人，他们运作的体制也将发生变化，"
    由前军方官员和商人组成的民众先锋党创始人德德凯表示。"这意味着将向更民主的
    道路迈进。"

    她说，中国正在帮助缅甸"进一步走向我们人民渴望的民主"。

    香港亚洲研究研究中心主任彭念将此次选举比作2010年那次，后者被视为巩固军方
    统治的幌子，但最终为西方与前将军吴登盛的接触铺平了道路，后者实施了改革。

    "不管西方怎么想，这至少是一个民主化进程，"彭念说。

    最终，中国为此次选举提供的合法性外衣，可能帮助缅甸军政府巩固权力，并进一
    步推进军方所谓的"有纪律的民主"理念。

    "中国最不希望看到的是发生一场全面革命，推动制度性变革并将缅甸军方赶下台，"
    无党派研究机构美国和平研究所前缅甸国家主任杰森·陶尔说。

    但尽管表面上关系融洽，缅甸的将军们仍对中国保持怀疑。他们不满中国为缅甸边
    境叛军提供资金，且警惕过度依赖这个庞大的邻国。敏昂莱出访最多的国家不是中国，
    而是俄罗斯。

    中国也对这位将军表示不满，原因包括边境不稳定、军政府未能关闭那些诱骗数千
    中国受害者的诈骗中心，以及去年对中国驻曼德勒领事馆的袭击。

    分析人士表示，这些因素为西方与缅甸接触提供了机会，许多缅甸人希望在大国之
    间保持平衡关系。

    "国际社会需要在缅甸采取不同的做法，"智库国际战略研究所东南亚安全研究员说。
    "但如果他们继续观望、无所作为，这个国家将继续分裂，并越来越深地被拉入中
    国的轨道。"

    Berry Wang 对本文有报道贡献。
    黄瑞黎是《纽约时报》东南亚分社社长，负责该地区11个国家的报道。
    报道中国外交政策和中国与世界的经济与文化交互。他从事新闻工作已超过20年。
    """

    # ═════════════════════════════════════════════════════════════
    # 2️⃣  选择语音（从"菜单"里选的人名）
    # ═════════════════════════════════════════════════════════════
    # 想用男声"晓晓"，就填 "zh-CN-XiaoxiaoNeural"
    voice_name = "zh-CN-XiaoxiaoNeural"

    # ═════════════════════════════════════════════════════════════
    # 3️⃣  选择情感风格
    # ═════════════════════════════════════════════════════════════
    # 可选: "cheerful"(愉快) | "sad"(悲伤) | "narration-relaxed"(轻松解说)
    style = "narration-relaxed"

    # ═════════════════════════════════════════════════════════════
    # 开始合成语音
    # ═════════════════════════════════════════════════════════════
    print("正在合成语音，请稍等...")

    try:
        audio_data = get_voice(
            text=text,
            voice_name=voice_name,
            style=style,
            rate="0",    # 语速：0是正常，+50%是加速
            pitch="0"    # 音调
        )

        # 保存为 MP3 文件
        filename = "我的声音.mp3"
        with open(filename, "wb") as f:
            f.write(audio_data)

        print(f"成功啦！文件已保存为：{filename}")

    except Exception as e:
        print(f"出错了：{e}")


# ═════════════════════════════════════════════════════════════
# 程序入口
# ═════════════════════════════════════════════════════════════
if __name__ == "__main__":
    run()